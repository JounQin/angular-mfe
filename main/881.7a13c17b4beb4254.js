(self.webpackChunkmain=self.webpackChunkmain||[]).push([[881],{6881:(Et,At,Oe)=>{Oe.r(At);var Tt=Oe(3990),w=(Oe(4045),Oe(1909)),Nt=Oe(4759);class St{}const Te="*";function bt(s,e=null){return{type:2,steps:s,options:e}}function ae(s){return{type:6,styles:s,offset:null}}function ct(s){Promise.resolve(null).then(s)}class We{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ct(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class Ot{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?ct(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==i&&this._onFinish()}),o.onDestroy(()=>{++n==i&&this._onDestroy()}),o.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}const x=!1;function Dt(s){return new w.\u0275RuntimeError(3e3,x)}function C(){return"undefined"!=typeof window&&void 0!==window.document}function k(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function F(s){switch(s.length){case 0:return new We;case 1:return s[0];default:return new Ot(s)}}function Z(s,e,t,n,r={},i={}){const o=[],a=[];let u=-1,p=null;if(n.forEach(v=>{const M=v.offset,Q=M==u,te=Q&&p||{};Object.keys(v).forEach(V=>{let Y=V,he=v[V];if("offset"!==V)switch(Y=e.normalizePropertyName(Y,o),he){case"!":he=r[V];break;case Te:he=i[V];break;default:he=e.normalizeStyleValue(V,Y,he,o)}te[Y]=he}),Q||a.push(te),p=te,u=M}),o.length)throw function pn(s){return new w.\u0275RuntimeError(3502,x)}();return a}function R(s,e,t,n){switch(e){case"start":s.onStart(()=>n(t&&ee(t,"start",s)));break;case"done":s.onDone(()=>n(t&&ee(t,"done",s)));break;case"destroy":s.onDestroy(()=>n(t&&ee(t,"destroy",s)))}}function ee(s,e,t){const n=t.totalTime,i=W(s.element,s.triggerName,s.fromState,s.toState,e||s.phaseName,null==n?s.totalTime:n,!!t.disabled),o=s._data;return null!=o&&(i._data=o),i}function W(s,e,t,n,r="",i=0,o){return{element:s,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:i,disabled:!!o}}function q(s,e,t){let n;return s instanceof Map?(n=s.get(e),n||s.set(e,n=t)):(n=s[e],n||(n=s[e]=t)),n}function fe(s){const e=s.indexOf(":");return[s.substring(1,e),s.substr(e+1)]}let re=(s,e)=>!1,ve=(s,e,t)=>[],me=null;function K(s){const e=s.parentNode||s.host;return e===me?null:e}(k()||"undefined"!=typeof Element)&&(C()?(me=(()=>document.documentElement)(),re=(s,e)=>{for(;e;){if(e===s)return!0;e=K(e)}return!1}):re=(s,e)=>s.contains(e),ve=(s,e,t)=>{if(t)return Array.from(s.querySelectorAll(e));const n=s.querySelector(e);return n?[n]:[]});let ne=null,pe=!1;function ie(s){ne||(ne=function D(){return"undefined"!=typeof document?document.body:null}()||{},pe=!!ne.style&&"WebkitAppearance"in ne.style);let e=!0;return ne.style&&!function be(s){return"ebkit"==s.substring(1,6)}(s)&&(e=s in ne.style,!e&&pe&&(e="Webkit"+s.charAt(0).toUpperCase()+s.substr(1)in ne.style)),e}const ce=re,b=ve;let H=(()=>{class s{validateStyleProperty(t){return ie(t)}matchesElement(t,n){return!1}containsElement(t,n){return ce(t,n)}getParentElement(t){return K(t)}query(t,n,r){return b(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,i,o,a=[],u){return new We(r,i)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=w.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),we=(()=>{class s{}return s.NOOP=new H,s})();const De="ng-enter",Pe="ng-leave",de="ng-trigger",J=".ng-trigger",N="ng-animating",l=".ng-animating";function f(s){if("number"==typeof s)return s;const e=s.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:j(parseFloat(e[1]),e[2])}function j(s,e){return"s"===e?1e3*s:s}function $(s,e,t){return s.hasOwnProperty("duration")?s:function Ee(s,e,t){let r,i=0,o="";if("string"==typeof s){const a=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Dt()),{duration:0,delay:0,easing:""};r=j(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(i=j(parseFloat(u),a[4]));const p=a[5];p&&(o=p)}else r=s;if(!t){let a=!1,u=e.length;r<0&&(e.push(function je(){return new w.\u0275RuntimeError(3100,x)}()),a=!0),i<0&&(e.push(function ht(){return new w.\u0275RuntimeError(3101,x)}()),a=!0),a&&e.splice(u,0,Dt())}return{duration:r,delay:i,easing:o}}(s,e,t)}function E(s,e={}){return Object.keys(s).forEach(t=>{e[t]=s[t]}),e}function m(s,e,t={}){if(e)for(let n in s)t[n]=s[n];else E(s,t);return t}function S(s,e,t){return t?e+":"+t+";":""}function I(s){let e="";for(let t=0;t<s.style.length;t++){const n=s.style.item(t);e+=S(0,n,s.style.getPropertyValue(n))}for(const t in s.style)s.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=S(0,Gt(t),s.style[t]));s.setAttribute("style",e)}function L(s,e,t){s.style&&(Object.keys(e).forEach(n=>{const r=ft(n);t&&!t.hasOwnProperty(n)&&(t[n]=s.style[r]),s.style[r]=e[n]}),k()&&I(s))}function P(s,e){s.style&&(Object.keys(e).forEach(t=>{const n=ft(t);s.style[n]=""}),k()&&I(s))}function U(s){return Array.isArray(s)?1==s.length?s[0]:bt(s):s}const G=new RegExp("{{\\s*(.+?)\\s*}}","g");function ue(s){let e=[];if("string"==typeof s){let t;for(;t=G.exec(s);)e.push(t[1]);G.lastIndex=0}return e}function le(s,e,t){const n=s.toString(),r=n.replace(G,(i,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(function un(s){return new w.\u0275RuntimeError(3003,x)}()),a=""),a.toString()});return r==n?s:r}function Be(s){const e=[];let t=s.next();for(;!t.done;)e.push(t.value),t=s.next();return e}const qe=/-+([a-z0-9])/g;function ft(s){return s.replace(qe,(...e)=>e[1].toUpperCase())}function Gt(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Re(s,e,t){switch(e.type){case 7:return s.visitTrigger(e,t);case 0:return s.visitState(e,t);case 1:return s.visitTransition(e,t);case 2:return s.visitSequence(e,t);case 3:return s.visitGroup(e,t);case 4:return s.visitAnimate(e,t);case 5:return s.visitKeyframes(e,t);case 6:return s.visitStyle(e,t);case 8:return s.visitReference(e,t);case 9:return s.visitAnimateChild(e,t);case 10:return s.visitAnimateRef(e,t);case 11:return s.visitQuery(e,t);case 12:return s.visitStagger(e,t);default:throw function $e(s){return new w.\u0275RuntimeError(3004,x)}()}}function Xe(s,e){return window.getComputedStyle(s)[e]}function fs(s,e){const t=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(n=>function ds(s,e,t){if(":"==s[0]){const u=function ms(s,e){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(function yn(s){return new w.\u0275RuntimeError(3016,x)}()),"* => *"}}(s,t);if("function"==typeof u)return void e.push(u);s=u}const n=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function mn(s){return new w.\u0275RuntimeError(3015,x)}()),e;const r=n[1],i=n[2],o=n[3];e.push(Zn(r,o));"<"==i[0]&&!("*"==r&&"*"==o)&&e.push(Zn(o,r))}(n,t,e)):t.push(s),t}const xt=new Set(["true","1"]),Jt=new Set(["false","0"]);function Zn(s,e){const t=xt.has(s)||Jt.has(s),n=xt.has(e)||Jt.has(e);return(r,i)=>{let o="*"==s||s==r,a="*"==e||e==i;return!o&&t&&"boolean"==typeof r&&(o=r?xt.has(s):Jt.has(s)),!a&&n&&"boolean"==typeof i&&(a=i?xt.has(e):Jt.has(e)),o&&a}}const ys=new RegExp("s*:selfs*,?","g");function Sn(s,e,t,n){return new ps(s).build(e,t,n)}class ps{constructor(e){this._driver=e}build(e,t,n){const r=new Es(t);this._resetContextStyleTimingState(r);const i=Re(this,U(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),i}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Mt(){return new w.\u0275RuntimeError(3006,x)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,p=u.name;p.toString().split(/\s*,\s*/).forEach(v=>{u.name=v,i.push(this.visitState(u,t))}),u.name=p}else if(1==a.type){const u=this.visitTransition(a,t);n+=u.queryCount,r+=u.depCount,o.push(u)}else t.errors.push(function hn(){return new w.\u0275RuntimeError(3007,x)}())}),{type:7,name:e.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};n.styles.forEach(a=>{if(en(a)){const u=a;Object.keys(u).forEach(p=>{ue(u[p]).forEach(v=>{o.hasOwnProperty(v)||i.add(v)})})}}),i.size&&(Be(i.values()),t.errors.push(function fn(s,e){return new w.\u0275RuntimeError(3008,x)}()))}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Re(this,U(e.animation),t);return{type:1,matchers:fs(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:yt(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>Re(this,n,t)),options:yt(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(o=>{t.currentTime=n;const a=Re(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:i,options:yt(e.options)}}visitAnimate(e,t){const n=function Ss(s,e){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return vn($(s,e).duration,0,"");const t=s;if(t.split(/\s+/).some(i=>"{"==i.charAt(0)&&"{"==i.charAt(1))){const i=vn(0,0,"");return i.dynamic=!0,i.strValue=t,i}const r=$(t,e);return vn(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let r,i=e.styles?e.styles:ae({});if(5==i.type)r=this.visitKeyframes(i,t);else{let o=e.styles,a=!1;if(!o){a=!0;const p={};n.easing&&(p.easing=n.easing),o=ae(p)}t.currentTime+=n.duration+n.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,r=u}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Te?n.push(o):t.errors.push(function st(s){return new w.\u0275RuntimeError(3002,x)}()):n.push(o)}):n.push(e.styles);let r=!1,i=null;return n.forEach(o=>{if(en(o)){const a=o,u=a.easing;if(u&&(i=u,delete a.easing),!r)for(let p in a)if(a[p].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void t.unsupportedCSSPropertiesFound.add(a);const u=t.collectedStyles[t.currentQuerySelector],p=u[a];let v=!0;p&&(i!=r&&i>=p.startTime&&r<=p.endTime&&(t.errors.push(function Fe(s,e,t,n,r){return new w.\u0275RuntimeError(3010,x)}()),v=!1),i=p.startTime),v&&(u[a]={startTime:i,endTime:r}),t.options&&function X(s,e,t){const n=e.params||{},r=ue(s);r.length&&r.forEach(i=>{n.hasOwnProperty(i)||t.push(function Ke(s){return new w.\u0275RuntimeError(3001,x)}())})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function qt(){return new w.\u0275RuntimeError(3011,x)}()),n;let i=0;const o=[];let a=!1,u=!1,p=0;const v=e.steps.map(ke=>{const Ae=this._makeStyleAst(ke,t);let Me=null!=Ae.offset?Ae.offset:function Ts(s){if("string"==typeof s)return null;let e=null;if(Array.isArray(s))s.forEach(t=>{if(en(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(en(s)&&s.hasOwnProperty("offset")){const t=s;e=parseFloat(t.offset),delete t.offset}return e}(Ae.styles),Ce=0;return null!=Me&&(i++,Ce=Ae.offset=Me),u=u||Ce<0||Ce>1,a=a||Ce<p,p=Ce,o.push(Ce),Ae});u&&t.errors.push(function zt(){return new w.\u0275RuntimeError(3012,x)}()),a&&t.errors.push(function Ht(){return new w.\u0275RuntimeError(3200,x)}());const M=e.steps.length;let Q=0;i>0&&i<M?t.errors.push(function Kt(){return new w.\u0275RuntimeError(3202,x)}()):0==i&&(Q=1/(M-1));const te=M-1,V=t.currentTime,Y=t.currentAnimateTimings,he=Y.duration;return v.forEach((ke,Ae)=>{const Me=Q>0?Ae==te?1:Q*Ae:o[Ae],Ce=Me*he;t.currentTime=V+Y.delay+Ce,Y.duration=Ce,this._validateStyleAst(ke,t),ke.offset=Me,n.styles.push(ke)}),n}visitReference(e,t){return{type:8,animation:Re(this,U(e.animation),t),options:yt(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:yt(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:yt(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,o]=function gs(s){const e=!!s.split(/\s*,\s*/).find(t=>":self"==t);return e&&(s=s.replace(ys,"")),s=s.replace(/@\*/g,J).replace(/@\w+/g,t=>J+"-"+t.substr(1)).replace(/:animating/g,l),[s,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,q(t.collectedStyles,t.currentQuerySelector,{});const a=Re(this,U(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:yt(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function dn(){return new w.\u0275RuntimeError(3013,x)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:$(e.timings,t.errors,!0);return{type:12,animation:Re(this,U(e.animation),t),timings:n,options:null}}}class Es{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function en(s){return!Array.isArray(s)&&"object"==typeof s}function yt(s){return s?(s=E(s)).params&&(s.params=function _s(s){return s?E(s):null}(s.params)):s={},s}function vn(s,e,t){return{duration:s,delay:e,easing:t}}function bn(s,e,t,n,r,i,o=null,a=!1){return{type:1,element:s,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:i,totalTime:r+i,easing:o,subTimeline:a}}class tn{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ws=new RegExp(":enter","g"),ks=new RegExp(":leave","g");function wn(s,e,t,n,r,i={},o={},a,u,p=[]){return(new As).buildKeyframes(s,e,t,n,r,i,o,a,u,p)}class As{buildKeyframes(e,t,n,r,i,o,a,u,p,v=[]){p=p||new tn;const M=new Pn(e,t,p,r,i,v,[]);M.options=u,M.currentTimeline.setStyles([o],null,M.errors,u),Re(this,n,M);const Q=M.timelines.filter(te=>te.containsAnimation());if(Object.keys(a).length){let te;for(let V=Q.length-1;V>=0;V--){const Y=Q[V];if(Y.element===t){te=Y;break}}te&&!te.allowOnlyTimelineStyles()&&te.setStyles([a],null,M.errors,u)}return Q.length?Q.map(te=>te.buildKeyframes()):[bn(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const o=null!=n.duration?f(n.duration):null,a=null!=n.delay?f(n.delay):null;return 0!==o&&e.forEach(u=>{const p=t.appendInstructionToTimeline(u,o,a);i=Math.max(i,p.duration+p.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),Re(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nn);const o=f(i.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Re(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?f(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);i&&a.delayNextStep(i),Re(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return $(t.params?le(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*i),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?f(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nn);let o=n;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((p,v)=>{t.currentQueryIndex=v;const M=t.createSubContext(e.options,p);i&&M.delayNextStep(i),p===t.element&&(u=M.currentTimeline),Re(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":u=a-u;break;case"full":u=n.currentStaggerTime}const v=t.currentTimeline;u&&v.delayNextStep(u);const M=v.currentTime;Re(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-M+(r.startTime-n.currentTimeline.startTime)}}const nn={};class Pn{constructor(e,t,n,r,i,o,a,u){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new sn(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=f(n.duration)),null!=n.delay&&(r.delay=f(n.delay));const i=n.params;if(i){let o=r.params;o||(o=this.options.params={}),Object.keys(i).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=le(i[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new Pn(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=nn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Ns(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(ws,"."+this._enterClassName)).replace(ks,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=n);0!==n&&(p=n<0?p.slice(p.length+n,p.length):p.slice(0,n)),a.push(...p)}return!i&&0==a.length&&o.push(function $t(s){return new w.\u0275RuntimeError(3014,x)}()),a}}class sn{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new sn(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Te,this._currentKeyframe[t]=Te}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},o=function Cs(s,e){const t={};let n;return s.forEach(r=>{"*"===r?(n=n||Object.keys(e),n.forEach(i=>{t[i]=Te})):m(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const u=le(o[a],i,n);this._pendingStyles[a]=u,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Te),this._updateStyle(a,u)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(n=>{this._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(n=>{this._currentKeyframe.hasOwnProperty(n)||(this._currentKeyframe[n]=this._localTimelineStyles[n])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,u)=>{const p=m(a,!0);Object.keys(p).forEach(v=>{const M=p[v];"!"==M?e.add(v):M==Te&&t.add(v)}),n||(p.offset=u/this.duration),r.push(p)});const i=e.size?Be(e.values()):[],o=t.size?Be(t.values()):[];if(n){const a=r[0],u=E(a);a.offset=0,u.offset=1,r=[a,u]}return bn(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Ns extends sn{constructor(e,t,n,r,i,o,a=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],o=n+t,a=t/o,u=m(e[0],!1);u.offset=0,i.push(u);const p=m(e[0],!1);p.offset=zn(a),i.push(p);const v=e.length-1;for(let M=1;M<=v;M++){let Q=m(e[M],!1);Q.offset=zn((t+Q.offset*n)/o),i.push(Q)}n=o,t=0,r="",e=i}return bn(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function zn(s,e=3){const t=Math.pow(10,e-1);return Math.round(s*t)/t}class kn{}class Rs extends kn{normalizePropertyName(e,t){return ft(e)}normalizeStyleValue(e,t,n,r){let i="";const o=n.toString().trim();if(Os[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Vt(s,e){return new w.\u0275RuntimeError(3005,x)}())}return o+i}}const Os=(()=>function Ds(s){const e={};return s.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Hn(s,e,t,n,r,i,o,a,u,p,v,M,Q){return{type:0,element:s,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:i,toState:n,toStyles:o,timelines:a,queriedElements:u,preStyleProps:p,postStyleProps:v,totalTime:M,errors:Q}}const An={};class Kn{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function Ms(s,e,t,n,r){return s.some(i=>i(e,t,n,r))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}build(e,t,n,r,i,o,a,u,p,v){const M=[],Q=this.ast.options&&this.ast.options.params||An,V=this.buildStyles(n,a&&a.params||An,M),Y=u&&u.params||An,he=this.buildStyles(r,Y,M),ke=new Set,Ae=new Map,Me=new Map,Ce="void"===r,kt={params:Object.assign(Object.assign({},Q),Y)},Qe=v?[]:wn(e,t,this.ast.animation,i,o,V,he,kt,p,M);let Ie=0;if(Qe.forEach(et=>{Ie=Math.max(et.duration+et.delay,Ie)}),M.length)return Hn(t,this._triggerName,n,r,Ce,V,he,[],[],Ae,Me,Ie,M);Qe.forEach(et=>{const tt=et.element,ls=q(Ae,tt,{});et.preStyleProps.forEach(pt=>ls[pt]=!0);const jt=q(Me,tt,{});et.postStyleProps.forEach(pt=>jt[pt]=!0),tt!==t&&ke.add(tt)});const Je=Be(ke.values());return Hn(t,this._triggerName,n,r,Ce,V,he,Qe,Je,Ae,Me,Ie)}}class Is{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=E(this.defaultParams);return Object.keys(e).forEach(i=>{const o=e[i];null!=o&&(r[i]=o)}),this.styles.styles.forEach(i=>{if("string"!=typeof i){const o=i;Object.keys(o).forEach(a=>{let u=o[a];u.length>1&&(u=le(u,r,t));const p=this.normalizer.normalizePropertyName(a,t);u=this.normalizer.normalizeStyleValue(a,p,u,t),n[p]=u})}}),n}}class Fs{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new Is(r.style,r.options&&r.options.params||{},n)}),$n(this.states,"true","1"),$n(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Kn(e,r,this.states))}),this.fallbackTransition=function js(s,e,t){return new Kn(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(o=>o.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function $n(s,e,t){s.hasOwnProperty(e)?s.hasOwnProperty(t)||(s[t]=s[e]):s.hasOwnProperty(t)&&(s[e]=s[t])}const Bs=new tn;class Zs{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=Sn(this._driver,t,n,[]);if(n.length)throw function wt(s){return new w.\u0275RuntimeError(3503,x)}();this._animations[e]=i}_buildPlayer(e,t,n){const r=e.element,i=Z(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let o;const a=new Map;if(i?(o=wn(this._driver,t,i,De,Pe,{},{},n,Bs,r),o.forEach(v=>{const M=q(a,v.element,{});v.postStyleProps.forEach(Q=>M[Q]=null)})):(r.push(function rt(){return new w.\u0275RuntimeError(3300,x)}()),o=[]),r.length)throw function gn(s){return new w.\u0275RuntimeError(3504,x)}();a.forEach((v,M)=>{Object.keys(v).forEach(Q=>{v[Q]=this._driver.computeStyle(M,Q,Te)})});const p=F(o.map(v=>{const M=a.get(v.element);return this._buildPlayer(v,{},M)}));return this._playersById[e]=p,p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function _n(s){return new w.\u0275RuntimeError(3301,x)}();return t}listen(e,t,n,r){const i=W(t,"","","");return R(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Un="ng-animate-queued",Nn="ng-animate-disabled",Ks=[],Qn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$s={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ze="__ng_removed";class Cn{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function Ws(s){return null!=s?s:null}(n?e.value:e),n){const i=E(e);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const Ft="void",Rn=new Cn(Ft);class Us{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,He(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw function En(s,e){return new w.\u0275RuntimeError(3302,x)}();if(null==n||0==n.length)throw function c(s){return new w.\u0275RuntimeError(3303,x)}();if(!function Xs(s){return"start"==s||"done"==s}(n))throw function h(s,e){return new w.\u0275RuntimeError(3400,x)}();const i=q(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};i.push(o);const a=q(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(He(e,de),He(e,de+"-"+t),a[t]=Rn),()=>{this._engine.afterFlush(()=>{const u=i.indexOf(o);u>=0&&i.splice(u,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function y(s){return new w.\u0275RuntimeError(3401,x)}();return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),o=new On(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(He(e,de),He(e,de+"-"+t),this._engine.statesByElement.set(e,a={}));let u=a[t];const p=new Cn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&p.absorbOptions(u.options),a[t]=p,u||(u=Rn),p.value!==Ft&&u.value===p.value){if(!function Js(s,e){const t=Object.keys(s),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const i=t[r];if(!e.hasOwnProperty(i)||s[i]!==e[i])return!1}return!0}(u.params,p.params)){const Y=[],he=i.matchStyles(u.value,u.params,Y),ke=i.matchStyles(p.value,p.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{P(e,he),L(e,ke)})}return}const Q=q(this._engine.playersByElement,e,[]);Q.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let te=i.matchTransition(u.value,p.value,e,p.params),V=!1;if(!te){if(!r)return;te=i.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:te,fromState:u,toState:p,player:o,isFallbackTransition:V}),V||(He(e,Un),o.onStart(()=>{Pt(e,Un)})),o.onDone(()=>{let Y=this.players.indexOf(o);Y>=0&&this.players.splice(Y,1);const he=this._engine.playersByElement.get(e);if(he){let ke=he.indexOf(o);ke>=0&&he.splice(ke,1)}}),this.players.push(o),Q.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,J,!0);n.forEach(r=>{if(r[ze])return;const i=this._engine.fetchNamespacesByElement(r);i.size?i.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e),o=new Map;if(i){const a=[];if(Object.keys(i).forEach(u=>{if(o.set(u,i[u].value),this._triggers[u]){const p=this.trigger(e,u,Ft,r);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),n&&F(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(i=>{const o=i.name;if(r.has(o))return;r.add(o);const u=this._triggers[o].fallbackTransition,p=n[o]||Rn,v=new Cn(Ft),M=new On(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:p,toState:v,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const i=n.players.length?n.playersByQueriedElement.get(e):[];if(i&&i.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const i=e[ze];(!i||i===Qn)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){He(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(a=>{if(a.name==n.triggerName){const u=W(i,n.triggerName,n.fromState.value,n.toState.value);u._data=e,R(n.player,a.phase,u,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const i=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==i||0==o?i-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(n=>n.element===e)||t,t}}class Qs{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,i)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new Us(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList,r=this.namespacesByHostElement,i=n.length-1;if(i>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const u=r.get(a);if(u){const p=n.indexOf(u);n.splice(p+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=i;a>=0;a--)if(this.driver.containsElement(n[a].hostElement,t)){n.splice(a+1,0,e),o=!0;break}o||n.unshift(e)}else n.push(e);return r.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const r=Object.keys(n);for(let i=0;i<r.length;i++){const o=n[r[i]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,n,r){if(rn(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!rn(t))return;const i=t[ze];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),He(e,Nn)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pt(e,Nn))}removeNode(e,t,n,r){if(rn(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r,i){this.collectedLeaveElements.push(t),t[ze]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:i}}listen(e,t,n,r,i){return rn(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,J,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,l,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return F(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const n=e[ze];if(n&&n.setForRemoval){if(e[ze]=Qn,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Nn))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)He(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?F(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw function d(s){return new w.\u0275RuntimeError(3402,x)}()}_flushAnimations(e,t){const n=new tn,r=[],i=new Map,o=[],a=new Map,u=new Map,p=new Map,v=new Set;this.disabledNodes.forEach(A=>{v.add(A);const B=this.driver.query(A,".ng-animate-queued",!0);for(let z=0;z<B.length;z++)v.add(B[z])});const M=this.bodyNode,Q=Array.from(this.statesByElement.keys()),te=Xn(Q,this.collectedEnterElements),V=new Map;let Y=0;te.forEach((A,B)=>{const z=De+Y++;V.set(B,z),A.forEach(oe=>He(oe,z))});const he=[],ke=new Set,Ae=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const B=this.collectedLeaveElements[A],z=B[ze];z&&z.setForRemoval&&(he.push(B),ke.add(B),z.hasAnimation?this.driver.query(B,".ng-star-inserted",!0).forEach(oe=>ke.add(oe)):Ae.add(B))}const Me=new Map,Ce=Xn(Q,Array.from(ke));Ce.forEach((A,B)=>{const z=Pe+Y++;Me.set(B,z),A.forEach(oe=>He(oe,z))}),e.push(()=>{te.forEach((A,B)=>{const z=V.get(B);A.forEach(oe=>Pt(oe,z))}),Ce.forEach((A,B)=>{const z=Me.get(B);A.forEach(oe=>Pt(oe,z))}),he.forEach(A=>{this.processLeaveNode(A)})});const kt=[],Qe=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(z=>{const oe=z.player,Ne=z.element;if(kt.push(oe),this.collectedEnterElements.length){const Le=Ne[ze];if(Le&&Le.setForMove){if(Le.previousTriggersValues&&Le.previousTriggersValues.has(z.triggerName)){const gt=Le.previousTriggersValues.get(z.triggerName),at=this.statesByElement.get(z.element);at&&at[z.triggerName]&&(at[z.triggerName].value=gt)}return void oe.destroy()}}const Ge=!M||!this.driver.containsElement(M,Ne),Ze=Me.get(Ne),ot=V.get(Ne),_e=this._buildInstruction(z,n,ot,Ze,Ge);if(_e.errors&&_e.errors.length)return void Qe.push(_e);if(Ge)return oe.onStart(()=>P(Ne,_e.fromStyles)),oe.onDestroy(()=>L(Ne,_e.toStyles)),void r.push(oe);if(z.isFallbackTransition)return oe.onStart(()=>P(Ne,_e.fromStyles)),oe.onDestroy(()=>L(Ne,_e.toStyles)),void r.push(oe);const hs=[];_e.timelines.forEach(Le=>{Le.stretchStartingKeyframe=!0,this.disabledNodes.has(Le.element)||hs.push(Le)}),_e.timelines=hs,n.append(Ne,_e.timelines),o.push({instruction:_e,player:oe,element:Ne}),_e.queriedElements.forEach(Le=>q(a,Le,[]).push(oe)),_e.preStyleProps.forEach((Le,gt)=>{const at=Object.keys(Le);if(at.length){let _t=u.get(gt);_t||u.set(gt,_t=new Set),at.forEach(In=>_t.add(In))}}),_e.postStyleProps.forEach((Le,gt)=>{const at=Object.keys(Le);let _t=p.get(gt);_t||p.set(gt,_t=new Set),at.forEach(In=>_t.add(In))})});if(Qe.length){const A=[];Qe.forEach(B=>{A.push(function _(s,e){return new w.\u0275RuntimeError(3505,x)}())}),kt.forEach(B=>B.destroy()),this.reportError(A)}const Ie=new Map,Je=new Map;o.forEach(A=>{const B=A.element;n.has(B)&&(Je.set(B,B),this._beforeAnimationBuild(A.player.namespaceId,A.instruction,Ie))}),r.forEach(A=>{const B=A.element;this._getPreviousPlayers(B,!1,A.namespaceId,A.triggerName,null).forEach(oe=>{q(Ie,B,[]).push(oe),oe.destroy()})});const et=he.filter(A=>xn(A,u,p)),tt=new Map;Wn(tt,this.driver,Ae,p,Te).forEach(A=>{xn(A,u,p)&&et.push(A)});const jt=new Map;te.forEach((A,B)=>{Wn(jt,this.driver,new Set(A),u,"!")}),et.forEach(A=>{const B=tt.get(A),z=jt.get(A);tt.set(A,Object.assign(Object.assign({},B),z))});const pt=[],cs=[],us={};o.forEach(A=>{const{element:B,player:z,instruction:oe}=A;if(n.has(B)){if(v.has(B))return z.onDestroy(()=>L(B,oe.toStyles)),z.disabled=!0,z.overrideTotalTime(oe.totalTime),void r.push(z);let Ne=us;if(Je.size>1){let Ze=B;const ot=[];for(;Ze=Ze.parentNode;){const _e=Je.get(Ze);if(_e){Ne=_e;break}ot.push(Ze)}ot.forEach(_e=>Je.set(_e,Ne))}const Ge=this._buildAnimation(z.namespaceId,oe,Ie,i,jt,tt);if(z.setRealPlayer(Ge),Ne===us)pt.push(z);else{const Ze=this.playersByElement.get(Ne);Ze&&Ze.length&&(z.parentPlayer=F(Ze)),r.push(z)}}else P(B,oe.fromStyles),z.onDestroy(()=>L(B,oe.toStyles)),cs.push(z),v.has(B)&&r.push(z)}),cs.forEach(A=>{const B=i.get(A.element);if(B&&B.length){const z=F(B);A.setRealPlayer(z)}}),r.forEach(A=>{A.parentPlayer?A.syncPlayerEvents(A.parentPlayer):A.destroy()});for(let A=0;A<he.length;A++){const B=he[A],z=B[ze];if(Pt(B,Pe),z&&z.hasAnimation)continue;let oe=[];if(a.size){let Ge=a.get(B);Ge&&Ge.length&&oe.push(...Ge);let Ze=this.driver.query(B,l,!0);for(let ot=0;ot<Ze.length;ot++){let _e=a.get(Ze[ot]);_e&&_e.length&&oe.push(..._e)}}const Ne=oe.filter(Ge=>!Ge.destroyed);Ne.length?Ys(this,B,Ne):this.processLeaveNode(B)}return he.length=0,pt.forEach(A=>{this.players.push(A),A.onDone(()=>{A.destroy();const B=this.players.indexOf(A);this.players.splice(B,1)}),A.play()}),pt}elementContainsData(e,t){let n=!1;const r=t[ze];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!i||i==Ft;a.forEach(p=>{p.queued||!u&&p.triggerName!=r||o.push(p)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,n){const i=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const p=u.element,v=p!==i,M=q(n,p,[]);this._getPreviousPlayers(p,v,o,a,t.toState).forEach(te=>{const V=te.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),te.destroy(),M.push(te)})}P(i,t.fromStyles)}_buildAnimation(e,t,n,r,i,o){const a=t.triggerName,u=t.element,p=[],v=new Set,M=new Set,Q=t.timelines.map(V=>{const Y=V.element;v.add(Y);const he=Y[ze];if(he&&he.removedBeforeQueried)return new We(V.duration,V.delay);const ke=Y!==u,Ae=function xs(s){const e=[];return Yn(s,e),e}((n.get(Y)||Ks).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===Y),Me=i.get(Y),Ce=o.get(Y),kt=Z(0,this._normalizer,0,V.keyframes,Me,Ce),Qe=this._buildPlayer(V,kt,Ae);if(V.subTimeline&&r&&M.add(Y),ke){const Ie=new On(e,a,Y);Ie.setRealPlayer(Qe),p.push(Ie)}return Qe});p.forEach(V=>{q(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function Gs(s,e,t){let n;if(s instanceof Map){if(n=s.get(e),n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&s.delete(e)}}else if(n=s[e],n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&delete s[e]}return n}(this.playersByQueriedElement,V.element,V))}),v.forEach(V=>He(V,N));const te=F(Q);return te.onDestroy(()=>{v.forEach(V=>Pt(V,N)),L(u,t.toStyles)}),M.forEach(V=>{q(r,V,[]).push(te)}),te}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new We(e.duration,e.delay)}}class On{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new We,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>R(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){q(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rn(s){return s&&1===s.nodeType}function Gn(s,e){const t=s.style.display;return s.style.display=null!=e?e:"none",t}function Wn(s,e,t,n,r){const i=[];t.forEach(u=>i.push(Gn(u)));const o=[];n.forEach((u,p)=>{const v={};u.forEach(M=>{const Q=v[M]=e.computeStyle(p,M,r);(!Q||0==Q.length)&&(p[ze]=$s,o.push(p))}),s.set(p,v)});let a=0;return t.forEach(u=>Gn(u,i[a++])),o}function Xn(s,e){const t=new Map;if(s.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),i=new Map;function o(a){if(!a)return 1;let u=i.get(a);if(u)return u;const p=a.parentNode;return u=t.has(p)?p:r.has(p)?1:o(p),i.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function He(s,e){var t;null===(t=s.classList)||void 0===t||t.add(e)}function Pt(s,e){var t;null===(t=s.classList)||void 0===t||t.remove(e)}function Ys(s,e,t){F(t).onDone(()=>s.processLeaveNode(e))}function Yn(s,e){for(let t=0;t<s.length;t++){const n=s[t];n instanceof Ot?Yn(n.players,e):e.push(n)}}function xn(s,e,t){const n=t.get(s);if(!n)return!1;let r=e.get(s);return r?n.forEach(i=>r.add(i)):e.set(s,n),t.delete(s),!0}class on{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,i)=>{},this._transitionEngine=new Qs(e,t,n),this._timelineEngine=new Zs(e,t,n),this._transitionEngine.onRemovalComplete=(r,i)=>this.onRemovalComplete(r,i)}registerTrigger(e,t,n,r,i){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const u=[],v=Sn(this._driver,i,u,[]);if(u.length)throw function It(s,e){return new w.\u0275RuntimeError(3404,x)}();a=function Ls(s,e,t){return new Fs(s,e,t)}(r,v,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[i,o]=fe(n);this._timelineEngine.command(i,t,o,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[o,a]=fe(n);return this._timelineEngine.listen(o,t,a,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tr=(()=>{class s{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=s.initialStylesByElement.get(t);i||s.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&L(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(L(this._element,this._initialStyles),this._endStyles&&(L(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(P(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(P(this._element,this._endStyles),this._endStyles=null),L(this._element,this._initialStyles),this._state=3)}}return s.initialStylesByElement=new WeakMap,s})();function Dn(s){let e=null;const t=Object.keys(s);for(let n=0;n<t.length;n++){const r=t[n];nr(r)&&(e=e||{},e[r]=s[r])}return e}function nr(s){return"display"===s||"position"===s}class Jn{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(n=>{"offset"!=n&&(e[n]=this._finished?t[n]:Xe(this.element,n))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class sr{validateStyleProperty(e){return ie(e)}matchesElement(e,t){return!1}containsElement(e,t){return ce(e,t)}getParentElement(e){return K(e)}query(e,t,n){return b(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,r,i,o=[]){const u={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(u.easing=i);const p={},v=o.filter(Q=>Q instanceof Jn);(function Tn(s,e){return 0===s||0===e})(n,r)&&v.forEach(Q=>{let te=Q.currentSnapshot;Object.keys(te).forEach(V=>p[V]=te[V])}),t=function Lt(s,e,t){const n=Object.keys(t);if(n.length&&e.length){let i=e[0],o=[];if(n.forEach(a=>{i.hasOwnProperty(a)||o.push(a),i[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(u){a[u]=Xe(s,u)})}}return e}(e,t=t.map(Q=>m(Q,!1)),p);const M=function er(s,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=Dn(e[0]),e.length>1&&(n=Dn(e[e.length-1]))):e&&(t=Dn(e)),t||n?new tr(s,t,n):null}(e,t);return new Jn(e,t,u,M)}}var es=Oe(4758);let rr=(()=>{class s extends St{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:w.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?bt(t):t;return ts(this._renderer,null,n,"register",[r]),new ir(n,this._renderer)}}return s.\u0275fac=function(t){return new(t||s)(w.\u0275\u0275inject(w.RendererFactory2),w.\u0275\u0275inject(es.DOCUMENT))},s.\u0275prov=w.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();class ir extends class Ct{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new or(this._id,e,t||{},this._renderer)}}class or{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ts(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function ts(s,e,t,n,r){return s.setProperty(e,`@@${t}:${n}`,r)}const ns="@.disabled";let ar=(()=>{class s{constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(i,o)=>{const a=null==o?void 0:o.parentNode(i);a&&o.removeChild(a,i)}}createRenderer(t,n){const i=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let v=this._rendererCache.get(i);return v||(v=new ss("",i,this.engine),this._rendererCache.set(i,v)),v}const o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=v=>{Array.isArray(v)?v.forEach(u):this.engine.registerTrigger(o,a,t,v.name,v)};return n.data.animation.forEach(u),new lr(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){t>=0&&t<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(i=>{const[o,a]=i;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(t){return new(t||s)(w.\u0275\u0275inject(w.RendererFactory2),w.\u0275\u0275inject(on),w.\u0275\u0275inject(w.NgZone))},s.\u0275prov=w.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();class ss{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==ns?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class lr extends ss{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ns?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function cr(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(e);let i=t.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function ur(s){const e=s.indexOf(".");return[s.substring(0,e),s.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(e,t,n)}}let hr=(()=>{class s extends on{constructor(t,n,r){super(t.body,n,r)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(t){return new(t||s)(w.\u0275\u0275inject(es.DOCUMENT),w.\u0275\u0275inject(we),w.\u0275\u0275inject(kn))},s.\u0275prov=w.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const rs=new w.InjectionToken("AnimationModuleType"),is=[{provide:St,useClass:rr},{provide:kn,useFactory:function fr(){return new Rs}},{provide:on,useClass:hr},{provide:w.RendererFactory2,useFactory:function dr(s,e,t){return new ar(s,e,t)},deps:[Tt.\u0275DomRendererFactory2,on,w.NgZone]}],os=[{provide:we,useFactory:()=>new sr},{provide:rs,useValue:"BrowserAnimations"},...is],mr=[{provide:we,useClass:H},{provide:rs,useValue:"NoopAnimations"},...is];let yr=(()=>{class s{static withConfig(t){return{ngModule:s,providers:t.disableAnimations?mr:os}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=w.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=w.\u0275\u0275defineInjector({providers:os,imports:[Tt.BrowserModule]}),s})();var as=Oe(1172),Mn=Oe(4642);let pr=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=w.\u0275\u0275defineComponent({type:s,selectors:[["mfe-root"]],decls:5,vars:0,template:function(t,n){1&t&&(w.\u0275\u0275elementStart(0,"h1"),w.\u0275\u0275text(1,"Welcome to Angular MFE"),w.\u0275\u0275elementEnd(),w.\u0275\u0275element(2,"mfe-test")(3,"hr")(4,"router-outlet"))},directives:[Mn.TestComponent,as.RouterOutlet],styles:[""],changeDetection:0}),s})(),gr=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=w.\u0275\u0275defineNgModule({type:s,bootstrap:[pr]}),s.\u0275inj=w.\u0275\u0275defineInjector({imports:[[Tt.BrowserModule,yr,Nt.HttpClientModule,Mn.TestModule.forRoot("prefix"),Mn.TranslateModule.forRoot(),as.RouterModule.forRoot([{path:"",loadChildren:()=>Oe.e(113).then(Oe.bind(Oe,6113)).then(e=>e.HelloModule)}],{initialNavigation:"enabledBlocking"})]]}),s})();(0,w.enableProdMode)(),Tt.platformBrowser().bootstrapModule(gr).catch(console.error)},4045:()=>{!function(c){const h=c.performance;function y(J){h&&h.mark&&h.mark(J)}function d(J,N){h&&h.measure&&h.measure(J,N)}y("Zone");const g=c.__Zone_symbol_prefix||"__zone_symbol__";function _(J){return g+J}const C=!0===c[_("forceDuplicateZoneCheck")];if(c.Zone){if(C||"function"!=typeof c.Zone.__symbol__)throw new Error("Zone already loaded.");return c.Zone}let k=(()=>{class J{constructor(l,f){this._parent=l,this._name=f?f.name||"unnamed":"<root>",this._properties=f&&f.properties||{},this._zoneDelegate=new Z(this,this._parent&&this._parent._zoneDelegate,f)}static assertZonePatched(){if(c.Promise!==Ve.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let l=J.current;for(;l.parent;)l=l.parent;return l}static get current(){return ye.zone}static get currentTask(){return De}static __load_patch(l,f,j=!1){if(Ve.hasOwnProperty(l)){if(!j&&C)throw Error("Already loaded patch: "+l)}else if(!c["__Zone_disable_"+l]){const $="Zone:"+l;y($),Ve[l]=f(c,J,ge),d($,$)}}get parent(){return this._parent}get name(){return this._name}get(l){const f=this.getZoneWith(l);if(f)return f._properties[l]}getZoneWith(l){let f=this;for(;f;){if(f._properties.hasOwnProperty(l))return f;f=f._parent}return null}fork(l){if(!l)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,l)}wrap(l,f){if("function"!=typeof l)throw new Error("Expecting function got: "+l);const j=this._zoneDelegate.intercept(this,l,f),$=this;return function(){return $.runGuarded(j,this,arguments,f)}}run(l,f,j,$){ye={parent:ye,zone:this};try{return this._zoneDelegate.invoke(this,l,f,j,$)}finally{ye=ye.parent}}runGuarded(l,f=null,j,$){ye={parent:ye,zone:this};try{try{return this._zoneDelegate.invoke(this,l,f,j,$)}catch(Ee){if(this._zoneDelegate.handleError(this,Ee))throw Ee}}finally{ye=ye.parent}}runTask(l,f,j){if(l.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(l.zone||be).name+"; Execution: "+this.name+")");if(l.state===ne&&(l.type===we||l.type===H))return;const $=l.state!=D;$&&l._transitionTo(D,ie),l.runCount++;const Ee=De;De=l,ye={parent:ye,zone:this};try{l.type==H&&l.data&&!l.data.isPeriodic&&(l.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,l,f,j)}catch(E){if(this._zoneDelegate.handleError(this,E))throw E}}finally{l.state!==ne&&l.state!==b&&(l.type==we||l.data&&l.data.isPeriodic?$&&l._transitionTo(ie,D):(l.runCount=0,this._updateTaskCount(l,-1),$&&l._transitionTo(ne,D,ne))),ye=ye.parent,De=Ee}}scheduleTask(l){if(l.zone&&l.zone!==this){let j=this;for(;j;){if(j===l.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${l.zone.name}`);j=j.parent}}l._transitionTo(pe,ne);const f=[];l._zoneDelegates=f,l._zone=this;try{l=this._zoneDelegate.scheduleTask(this,l)}catch(j){throw l._transitionTo(b,pe,ne),this._zoneDelegate.handleError(this,j),j}return l._zoneDelegates===f&&this._updateTaskCount(l,1),l.state==pe&&l._transitionTo(ie,pe),l}scheduleMicroTask(l,f,j,$){return this.scheduleTask(new R(se,l,f,j,$,void 0))}scheduleMacroTask(l,f,j,$,Ee){return this.scheduleTask(new R(H,l,f,j,$,Ee))}scheduleEventTask(l,f,j,$,Ee){return this.scheduleTask(new R(we,l,f,j,$,Ee))}cancelTask(l){if(l.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(l.zone||be).name+"; Execution: "+this.name+")");l._transitionTo(ce,ie,D);try{this._zoneDelegate.cancelTask(this,l)}catch(f){throw l._transitionTo(b,ce),this._zoneDelegate.handleError(this,f),f}return this._updateTaskCount(l,-1),l._transitionTo(ne,ce),l.runCount=0,l}_updateTaskCount(l,f){const j=l._zoneDelegates;-1==f&&(l._zoneDelegates=null);for(let $=0;$<j.length;$++)j[$]._updateTaskCount(l.type,f)}}return J.__symbol__=_,J})();const F={name:"",onHasTask:(J,N,l,f)=>J.hasTask(l,f),onScheduleTask:(J,N,l,f)=>J.scheduleTask(l,f),onInvokeTask:(J,N,l,f,j,$)=>J.invokeTask(l,f,j,$),onCancelTask:(J,N,l,f)=>J.cancelTask(l,f)};class Z{constructor(N,l,f){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=N,this._parentDelegate=l,this._forkZS=f&&(f&&f.onFork?f:l._forkZS),this._forkDlgt=f&&(f.onFork?l:l._forkDlgt),this._forkCurrZone=f&&(f.onFork?this.zone:l._forkCurrZone),this._interceptZS=f&&(f.onIntercept?f:l._interceptZS),this._interceptDlgt=f&&(f.onIntercept?l:l._interceptDlgt),this._interceptCurrZone=f&&(f.onIntercept?this.zone:l._interceptCurrZone),this._invokeZS=f&&(f.onInvoke?f:l._invokeZS),this._invokeDlgt=f&&(f.onInvoke?l:l._invokeDlgt),this._invokeCurrZone=f&&(f.onInvoke?this.zone:l._invokeCurrZone),this._handleErrorZS=f&&(f.onHandleError?f:l._handleErrorZS),this._handleErrorDlgt=f&&(f.onHandleError?l:l._handleErrorDlgt),this._handleErrorCurrZone=f&&(f.onHandleError?this.zone:l._handleErrorCurrZone),this._scheduleTaskZS=f&&(f.onScheduleTask?f:l._scheduleTaskZS),this._scheduleTaskDlgt=f&&(f.onScheduleTask?l:l._scheduleTaskDlgt),this._scheduleTaskCurrZone=f&&(f.onScheduleTask?this.zone:l._scheduleTaskCurrZone),this._invokeTaskZS=f&&(f.onInvokeTask?f:l._invokeTaskZS),this._invokeTaskDlgt=f&&(f.onInvokeTask?l:l._invokeTaskDlgt),this._invokeTaskCurrZone=f&&(f.onInvokeTask?this.zone:l._invokeTaskCurrZone),this._cancelTaskZS=f&&(f.onCancelTask?f:l._cancelTaskZS),this._cancelTaskDlgt=f&&(f.onCancelTask?l:l._cancelTaskDlgt),this._cancelTaskCurrZone=f&&(f.onCancelTask?this.zone:l._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const j=f&&f.onHasTask;(j||l&&l._hasTaskZS)&&(this._hasTaskZS=j?f:F,this._hasTaskDlgt=l,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=N,f.onScheduleTask||(this._scheduleTaskZS=F,this._scheduleTaskDlgt=l,this._scheduleTaskCurrZone=this.zone),f.onInvokeTask||(this._invokeTaskZS=F,this._invokeTaskDlgt=l,this._invokeTaskCurrZone=this.zone),f.onCancelTask||(this._cancelTaskZS=F,this._cancelTaskDlgt=l,this._cancelTaskCurrZone=this.zone))}fork(N,l){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,N,l):new k(N,l)}intercept(N,l,f){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,N,l,f):l}invoke(N,l,f,j,$){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,N,l,f,j,$):l.apply(f,j)}handleError(N,l){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,N,l)}scheduleTask(N,l){let f=l;if(this._scheduleTaskZS)this._hasTaskZS&&f._zoneDelegates.push(this._hasTaskDlgtOwner),f=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,N,l),f||(f=l);else if(l.scheduleFn)l.scheduleFn(l);else{if(l.type!=se)throw new Error("Task is missing scheduleFn.");K(l)}return f}invokeTask(N,l,f,j){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,N,l,f,j):l.callback.apply(f,j)}cancelTask(N,l){let f;if(this._cancelTaskZS)f=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,N,l);else{if(!l.cancelFn)throw Error("Task is not cancelable");f=l.cancelFn(l)}return f}hasTask(N,l){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,N,l)}catch(f){this.handleError(N,f)}}_updateTaskCount(N,l){const f=this._taskCounts,j=f[N],$=f[N]=j+l;if($<0)throw new Error("More tasks executed then were scheduled.");0!=j&&0!=$||this.hasTask(this.zone,{microTask:f.microTask>0,macroTask:f.macroTask>0,eventTask:f.eventTask>0,change:N})}}class R{constructor(N,l,f,j,$,Ee){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=N,this.source=l,this.data=j,this.scheduleFn=$,this.cancelFn=Ee,!f)throw new Error("callback is not defined");this.callback=f;const E=this;this.invoke=N===we&&j&&j.useG?R.invokeTask:function(){return R.invokeTask.call(c,E,this,arguments)}}static invokeTask(N,l,f){N||(N=this),Pe++;try{return N.runCount++,N.zone.runTask(N,l,f)}finally{1==Pe&&O(),Pe--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(ne,pe)}_transitionTo(N,l,f){if(this._state!==l&&this._state!==f)throw new Error(`${this.type} '${this.source}': can not transition to '${N}', expecting state '${l}'${f?" or '"+f+"'":""}, was '${this._state}'.`);this._state=N,N==ne&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const ee=_("setTimeout"),W=_("Promise"),q=_("then");let ve,fe=[],re=!1;function me(J){if(ve||c[W]&&(ve=c[W].resolve(0)),ve){let N=ve[q];N||(N=ve.then),N.call(ve,J)}else c[ee](J,0)}function K(J){0===Pe&&0===fe.length&&me(O),J&&fe.push(J)}function O(){if(!re){for(re=!0;fe.length;){const J=fe;fe=[];for(let N=0;N<J.length;N++){const l=J[N];try{l.zone.runTask(l,null,null)}catch(f){ge.onUnhandledError(f)}}}ge.microtaskDrainDone(),re=!1}}const be={name:"NO ZONE"},ne="notScheduled",pe="scheduling",ie="scheduled",D="running",ce="canceling",b="unknown",se="microTask",H="macroTask",we="eventTask",Ve={},ge={symbol:_,currentZoneFrame:()=>ye,onUnhandledError:de,microtaskDrainDone:de,scheduleMicroTask:K,showUncaughtError:()=>!k[_("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:de,patchMethod:()=>de,bindArguments:()=>[],patchThen:()=>de,patchMacroTask:()=>de,patchEventPrototype:()=>de,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>de,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>de,wrapWithCurrentZone:()=>de,filterProperties:()=>[],attachOriginToPatched:()=>de,_redefineProperty:()=>de,patchCallbacks:()=>de,nativeScheduleMicroTask:me};let ye={parent:null,zone:new k(null,null)},De=null,Pe=0;function de(){}d("Zone","Zone"),c.Zone=k}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const Et=Object.getOwnPropertyDescriptor,At=Object.defineProperty,Oe=Object.getPrototypeOf,Tt=Object.create,Ln=Array.prototype.slice,w="addEventListener",Nt="removeEventListener",St=Zone.__symbol__(w),Ct=Zone.__symbol__(Nt),Te="true",Ue="false",vt=Zone.__symbol__("");function Bt(c,h){return Zone.current.wrap(c,h)}function bt(c,h,y,d,g){return Zone.current.scheduleMacroTask(c,h,y,d,g)}const ae=Zone.__symbol__,Rt="undefined"!=typeof window,lt=Rt?window:void 0,Se=Rt&&lt||"object"==typeof self&&self||global;function Zt(c,h){for(let y=c.length-1;y>=0;y--)"function"==typeof c[y]&&(c[y]=Bt(c[y],h+"_"+y));return c}function ln(c){return!c||!1!==c.writable&&!("function"==typeof c.get&&void 0===c.set)}const cn="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,ct=!("nw"in Se)&&void 0!==Se.process&&"[object process]"==={}.toString.call(Se.process),We=!ct&&!cn&&!(!Rt||!lt.HTMLElement),Ot=void 0!==Se.process&&"[object process]"==={}.toString.call(Se.process)&&!cn&&!(!Rt||!lt.HTMLElement),nt={},x=function(c){if(!(c=c||Se.event))return;let h=nt[c.type];h||(h=nt[c.type]=ae("ON_PROPERTY"+c.type));const y=this||c.target||Se,d=y[h];let g;if(We&&y===lt&&"error"===c.type){const _=c;g=d&&d.call(this,_.message,_.filename,_.lineno,_.colno,_.error),!0===g&&c.preventDefault()}else g=d&&d.apply(this,arguments),null!=g&&!g&&c.preventDefault();return g};function ut(c,h,y){let d=Et(c,h);if(!d&&y&&Et(y,h)&&(d={enumerable:!0,configurable:!0}),!d||!d.configurable)return;const g=ae("on"+h+"patched");if(c.hasOwnProperty(g)&&c[g])return;delete d.writable,delete d.value;const _=d.get,C=d.set,k=h.substr(2);let F=nt[k];F||(F=nt[k]=ae("ON_PROPERTY"+k)),d.set=function(Z){let R=this;!R&&c===Se&&(R=Se),R&&("function"==typeof R[F]&&R.removeEventListener(k,x),C&&C.call(R,null),R[F]=Z,"function"==typeof Z&&R.addEventListener(k,x,!1))},d.get=function(){let Z=this;if(!Z&&c===Se&&(Z=Se),!Z)return null;const R=Z[F];if(R)return R;if(_){let ee=_.call(this);if(ee)return d.set.call(this,ee),"function"==typeof Z.removeAttribute&&Z.removeAttribute(h),ee}return null},At(c,h,d),c[g]=!0}function Dt(c,h,y){if(h)for(let d=0;d<h.length;d++)ut(c,"on"+h[d],y);else{const d=[];for(const g in c)"on"==g.substr(0,2)&&d.push(g);for(let g=0;g<d.length;g++)ut(c,d[g],y)}}const je=ae("originalInstance");function ht(c){const h=Se[c];if(!h)return;Se[ae(c)]=h,Se[c]=function(){const g=Zt(arguments,c);switch(g.length){case 0:this[je]=new h;break;case 1:this[je]=new h(g[0]);break;case 2:this[je]=new h(g[0],g[1]);break;case 3:this[je]=new h(g[0],g[1],g[2]);break;case 4:this[je]=new h(g[0],g[1],g[2],g[3]);break;default:throw new Error("Arg list too long.")}},$e(Se[c],h);const y=new h(function(){});let d;for(d in y)"XMLHttpRequest"===c&&"responseBlob"===d||function(g){"function"==typeof y[g]?Se[c].prototype[g]=function(){return this[je][g].apply(this[je],arguments)}:At(Se[c].prototype,g,{set:function(_){"function"==typeof _?(this[je][g]=Bt(_,c+"."+g),$e(this[je][g],_)):this[je][g]=_},get:function(){return this[je][g]}})}(d);for(d in h)"prototype"!==d&&h.hasOwnProperty(d)&&(Se[c][d]=h[d])}function Ke(c,h,y){let d=c;for(;d&&!d.hasOwnProperty(h);)d=Oe(d);!d&&c[h]&&(d=c);const g=ae(h);let _=null;if(d&&(!(_=d[g])||!d.hasOwnProperty(g))&&(_=d[g]=d[h],ln(d&&Et(d,h)))){const k=y(_,g,h);d[h]=function(){return k(this,arguments)},$e(d[h],_)}return _}function un(c,h,y){let d=null;function g(_){const C=_.data;return C.args[C.cbIdx]=function(){_.invoke.apply(this,arguments)},d.apply(C.target,C.args),_}d=Ke(c,h,_=>function(C,k){const F=y(C,k);return F.cbIdx>=0&&"function"==typeof k[F.cbIdx]?bt(F.name,k[F.cbIdx],F,g):_.apply(C,k)})}function $e(c,h){c[ae("OriginalDelegate")]=h}let Vt=!1,Mt=!1;function fn(){if(Vt)return Mt;Vt=!0;try{const c=lt.navigator.userAgent;(-1!==c.indexOf("MSIE ")||-1!==c.indexOf("Trident/")||-1!==c.indexOf("Edge/"))&&(Mt=!0)}catch(c){}return Mt}Zone.__load_patch("ZoneAwarePromise",(c,h,y)=>{const d=Object.getOwnPropertyDescriptor,g=Object.defineProperty,C=y.symbol,k=[],F=!0===c[C("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Z=C("Promise"),R=C("then");y.onUnhandledError=E=>{if(y.showUncaughtError()){const T=E&&E.rejection;T?console.error("Unhandled Promise rejection:",T instanceof Error?T.message:T,"; Zone:",E.zone.name,"; Task:",E.task&&E.task.source,"; Value:",T,T instanceof Error?T.stack:void 0):console.error(E)}},y.microtaskDrainDone=()=>{for(;k.length;){const E=k.shift();try{E.zone.runGuarded(()=>{throw E.throwOriginal?E.rejection:E})}catch(T){q(T)}}};const W=C("unhandledPromiseRejectionHandler");function q(E){y.onUnhandledError(E);try{const T=h[W];"function"==typeof T&&T.call(this,E)}catch(T){}}function fe(E){return E&&E.then}function re(E){return E}function ve(E){return l.reject(E)}const me=C("state"),K=C("value"),O=C("finally"),be=C("parentPromiseValue"),ne=C("parentPromiseState"),ie=null,D=!0,ce=!1;function se(E,T){return m=>{try{ge(E,T,m)}catch(S){ge(E,!1,S)}}}const Ve=C("currentTaskTrace");function ge(E,T,m){const S=function(){let E=!1;return function(m){return function(){E||(E=!0,m.apply(null,arguments))}}}();if(E===m)throw new TypeError("Promise resolved with itself");if(E[me]===ie){let I=null;try{("object"==typeof m||"function"==typeof m)&&(I=m&&m.then)}catch(L){return S(()=>{ge(E,!1,L)})(),E}if(T!==ce&&m instanceof l&&m.hasOwnProperty(me)&&m.hasOwnProperty(K)&&m[me]!==ie)De(m),ge(E,m[me],m[K]);else if(T!==ce&&"function"==typeof I)try{I.call(m,S(se(E,T)),S(se(E,!1)))}catch(L){S(()=>{ge(E,!1,L)})()}else{E[me]=T;const L=E[K];if(E[K]=m,E[O]===O&&T===D&&(E[me]=E[ne],E[K]=E[be]),T===ce&&m instanceof Error){const P=h.currentTask&&h.currentTask.data&&h.currentTask.data.__creationTrace__;P&&g(m,Ve,{configurable:!0,enumerable:!1,writable:!0,value:P})}for(let P=0;P<L.length;)Pe(E,L[P++],L[P++],L[P++],L[P++]);if(0==L.length&&T==ce){E[me]=0;let P=m;try{throw new Error("Uncaught (in promise): "+function _(E){return E&&E.toString===Object.prototype.toString?(E.constructor&&E.constructor.name||"")+": "+JSON.stringify(E):E?E.toString():Object.prototype.toString.call(E)}(m)+(m&&m.stack?"\n"+m.stack:""))}catch(U){P=U}F&&(P.throwOriginal=!0),P.rejection=m,P.promise=E,P.zone=h.current,P.task=h.currentTask,k.push(P),y.scheduleMicroTask()}}}return E}const ye=C("rejectionHandledHandler");function De(E){if(0===E[me]){try{const T=h[ye];T&&"function"==typeof T&&T.call(this,{rejection:E[K],promise:E})}catch(T){}E[me]=ce;for(let T=0;T<k.length;T++)E===k[T].promise&&k.splice(T,1)}}function Pe(E,T,m,S,I){De(E);const L=E[me],P=L?"function"==typeof S?S:re:"function"==typeof I?I:ve;T.scheduleMicroTask("Promise.then",()=>{try{const U=E[K],X=!!m&&O===m[O];X&&(m[be]=U,m[ne]=L);const G=T.run(P,void 0,X&&P!==ve&&P!==re?[]:[U]);ge(m,!0,G)}catch(U){ge(m,!1,U)}},m)}const J=function(){},N=c.AggregateError;class l{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(T){return ge(new this(null),D,T)}static reject(T){return ge(new this(null),ce,T)}static any(T){if(!T||"function"!=typeof T[Symbol.iterator])return Promise.reject(new N([],"All promises were rejected"));const m=[];let S=0;try{for(let P of T)S++,m.push(l.resolve(P))}catch(P){return Promise.reject(new N([],"All promises were rejected"))}if(0===S)return Promise.reject(new N([],"All promises were rejected"));let I=!1;const L=[];return new l((P,U)=>{for(let X=0;X<m.length;X++)m[X].then(G=>{I||(I=!0,P(G))},G=>{L.push(G),S--,0===S&&(I=!0,U(new N(L,"All promises were rejected")))})})}static race(T){let m,S,I=new this((U,X)=>{m=U,S=X});function L(U){m(U)}function P(U){S(U)}for(let U of T)fe(U)||(U=this.resolve(U)),U.then(L,P);return I}static all(T){return l.allWithCallback(T)}static allSettled(T){return(this&&this.prototype instanceof l?this:l).allWithCallback(T,{thenCallback:S=>({status:"fulfilled",value:S}),errorCallback:S=>({status:"rejected",reason:S})})}static allWithCallback(T,m){let S,I,L=new this((G,ue)=>{S=G,I=ue}),P=2,U=0;const X=[];for(let G of T){fe(G)||(G=this.resolve(G));const ue=U;try{G.then(le=>{X[ue]=m?m.thenCallback(le):le,P--,0===P&&S(X)},le=>{m?(X[ue]=m.errorCallback(le),P--,0===P&&S(X)):I(le)})}catch(le){I(le)}P++,U++}return P-=2,0===P&&S(X),L}constructor(T){const m=this;if(!(m instanceof l))throw new Error("Must be an instanceof Promise.");m[me]=ie,m[K]=[];try{T&&T(se(m,D),se(m,ce))}catch(S){ge(m,!1,S)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return l}then(T,m){let S=this.constructor[Symbol.species];(!S||"function"!=typeof S)&&(S=this.constructor||l);const I=new S(J),L=h.current;return this[me]==ie?this[K].push(L,I,T,m):Pe(this,L,I,T,m),I}catch(T){return this.then(null,T)}finally(T){let m=this.constructor[Symbol.species];(!m||"function"!=typeof m)&&(m=l);const S=new m(J);S[O]=O;const I=h.current;return this[me]==ie?this[K].push(I,S,T,T):Pe(this,I,S,T,T),S}}l.resolve=l.resolve,l.reject=l.reject,l.race=l.race,l.all=l.all;const f=c[Z]=c.Promise;c.Promise=l;const j=C("thenPatched");function $(E){const T=E.prototype,m=d(T,"then");if(m&&(!1===m.writable||!m.configurable))return;const S=T.then;T[R]=S,E.prototype.then=function(I,L){return new l((U,X)=>{S.call(this,U,X)}).then(I,L)},E[j]=!0}return y.patchThen=$,f&&($(f),Ke(c,"fetch",E=>function Ee(E){return function(T,m){let S=E.apply(T,m);if(S instanceof l)return S;let I=S.constructor;return I[j]||$(I),S}}(E))),Promise[h.__symbol__("uncaughtPromiseErrors")]=k,l}),Zone.__load_patch("toString",c=>{const h=Function.prototype.toString,y=ae("OriginalDelegate"),d=ae("Promise"),g=ae("Error"),_=function(){if("function"==typeof this){const Z=this[y];if(Z)return"function"==typeof Z?h.call(Z):Object.prototype.toString.call(Z);if(this===Promise){const R=c[d];if(R)return h.call(R)}if(this===Error){const R=c[g];if(R)return h.call(R)}}return h.call(this)};_[y]=h,Function.prototype.toString=_;const C=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":C.call(this)}});let st=!1;if("undefined"!=typeof window)try{const c=Object.defineProperty({},"passive",{get:function(){st=!0}});window.addEventListener("test",c,c),window.removeEventListener("test",c,c)}catch(c){st=!1}const Bn={useG:!0},Fe={},qt={},zt=new RegExp("^"+vt+"(\\w+)(true|false)$"),Ht=ae("propagationStopped");function Kt(c,h){const y=(h?h(c):c)+Ue,d=(h?h(c):c)+Te,g=vt+y,_=vt+d;Fe[c]={},Fe[c][Ue]=g,Fe[c][Te]=_}function dn(c,h,y,d){const g=d&&d.add||w,_=d&&d.rm||Nt,C=d&&d.listeners||"eventListeners",k=d&&d.rmAll||"removeAllListeners",F=ae(g),Z="."+g+":",W=function(K,O,be){if(K.isRemoved)return;const ne=K.callback;let pe;"object"==typeof ne&&ne.handleEvent&&(K.callback=D=>ne.handleEvent(D),K.originalDelegate=ne);try{K.invoke(K,O,[be])}catch(D){pe=D}const ie=K.options;return ie&&"object"==typeof ie&&ie.once&&O[_].call(O,be.type,K.originalDelegate?K.originalDelegate:K.callback,ie),pe};function q(K,O,be){if(!(O=O||c.event))return;const ne=K||O.target||c,pe=ne[Fe[O.type][be?Te:Ue]];if(pe){const ie=[];if(1===pe.length){const D=W(pe[0],ne,O);D&&ie.push(D)}else{const D=pe.slice();for(let ce=0;ce<D.length&&(!O||!0!==O[Ht]);ce++){const b=W(D[ce],ne,O);b&&ie.push(b)}}if(1===ie.length)throw ie[0];for(let D=0;D<ie.length;D++){const ce=ie[D];h.nativeScheduleMicroTask(()=>{throw ce})}}}const fe=function(K){return q(this,K,!1)},re=function(K){return q(this,K,!0)};function ve(K,O){if(!K)return!1;let be=!0;O&&void 0!==O.useG&&(be=O.useG);const ne=O&&O.vh;let pe=!0;O&&void 0!==O.chkDup&&(pe=O.chkDup);let ie=!1;O&&void 0!==O.rt&&(ie=O.rt);let D=K;for(;D&&!D.hasOwnProperty(g);)D=Oe(D);if(!D&&K[g]&&(D=K),!D||D[F])return!1;const ce=O&&O.eventNameToString,b={},se=D[F]=D[g],H=D[ae(_)]=D[_],we=D[ae(C)]=D[C],Ve=D[ae(k)]=D[k];let ge;function ye(m,S){return!st&&"object"==typeof m&&m?!!m.capture:st&&S?"boolean"==typeof m?{capture:m,passive:!0}:m?"object"==typeof m&&!1!==m.passive?Object.assign(Object.assign({},m),{passive:!0}):m:{passive:!0}:m}O&&O.prepend&&(ge=D[ae(O.prepend)]=D[O.prepend]);const l=be?function(m){if(!b.isExisting)return se.call(b.target,b.eventName,b.capture?re:fe,b.options)}:function(m){return se.call(b.target,b.eventName,m.invoke,b.options)},f=be?function(m){if(!m.isRemoved){const S=Fe[m.eventName];let I;S&&(I=S[m.capture?Te:Ue]);const L=I&&m.target[I];if(L)for(let P=0;P<L.length;P++)if(L[P]===m){L.splice(P,1),m.isRemoved=!0,0===L.length&&(m.allRemoved=!0,m.target[I]=null);break}}if(m.allRemoved)return H.call(m.target,m.eventName,m.capture?re:fe,m.options)}:function(m){return H.call(m.target,m.eventName,m.invoke,m.options)},$=O&&O.diff?O.diff:function(m,S){const I=typeof S;return"function"===I&&m.callback===S||"object"===I&&m.originalDelegate===S},Ee=Zone[ae("UNPATCHED_EVENTS")],E=c[ae("PASSIVE_EVENTS")],T=function(m,S,I,L,P=!1,U=!1){return function(){const X=this||c;let G=arguments[0];O&&O.transferEventName&&(G=O.transferEventName(G));let ue=arguments[1];if(!ue)return m.apply(this,arguments);if(ct&&"uncaughtException"===G)return m.apply(this,arguments);let le=!1;if("function"!=typeof ue){if(!ue.handleEvent)return m.apply(this,arguments);le=!0}if(ne&&!ne(m,ue,X,arguments))return;const Be=st&&!!E&&-1!==E.indexOf(G),qe=ye(arguments[2],Be);if(Ee)for(let it=0;it<Ee.length;it++)if(G===Ee[it])return Be?m.call(X,G,ue,qe):m.apply(this,arguments);const ft=!!qe&&("boolean"==typeof qe||qe.capture),Gt=!(!qe||"object"!=typeof qe)&&qe.once,Tn=Zone.current;let Lt=Fe[G];Lt||(Kt(G,ce),Lt=Fe[G]);const Re=Lt[ft?Te:Ue];let Ye,Xe=X[Re],dt=!1;if(Xe){if(dt=!0,pe)for(let it=0;it<Xe.length;it++)if($(Xe[it],ue))return}else Xe=X[Re]=[];const Wt=X.constructor.name,Xt=qt[Wt];Xt&&(Ye=Xt[G]),Ye||(Ye=Wt+S+(ce?ce(G):G)),b.options=qe,Gt&&(b.options.once=!1),b.target=X,b.capture=ft,b.eventName=G,b.isExisting=dt;const mt=be?Bn:void 0;mt&&(mt.taskData=b);const xe=Tn.scheduleEventTask(Ye,ue,mt,I,L);return b.target=null,mt&&(mt.taskData=null),Gt&&(qe.once=!0),!st&&"boolean"==typeof xe.options||(xe.options=qe),xe.target=X,xe.capture=ft,xe.eventName=G,le&&(xe.originalDelegate=ue),U?Xe.unshift(xe):Xe.push(xe),P?X:void 0}};return D[g]=T(se,Z,l,f,ie),ge&&(D.prependListener=T(ge,".prependListener:",function(m){return ge.call(b.target,b.eventName,m.invoke,b.options)},f,ie,!0)),D[_]=function(){const m=this||c;let S=arguments[0];O&&O.transferEventName&&(S=O.transferEventName(S));const I=arguments[2],L=!!I&&("boolean"==typeof I||I.capture),P=arguments[1];if(!P)return H.apply(this,arguments);if(ne&&!ne(H,P,m,arguments))return;const U=Fe[S];let X;U&&(X=U[L?Te:Ue]);const G=X&&m[X];if(G)for(let ue=0;ue<G.length;ue++){const le=G[ue];if($(le,P))return G.splice(ue,1),le.isRemoved=!0,0===G.length&&(le.allRemoved=!0,m[X]=null,"string"==typeof S)&&(m[vt+"ON_PROPERTY"+S]=null),le.zone.cancelTask(le),ie?m:void 0}return H.apply(this,arguments)},D[C]=function(){const m=this||c;let S=arguments[0];O&&O.transferEventName&&(S=O.transferEventName(S));const I=[],L=$t(m,ce?ce(S):S);for(let P=0;P<L.length;P++){const U=L[P];I.push(U.originalDelegate?U.originalDelegate:U.callback)}return I},D[k]=function(){const m=this||c;let S=arguments[0];if(S){O&&O.transferEventName&&(S=O.transferEventName(S));const I=Fe[S];if(I){const U=m[I[Ue]],X=m[I[Te]];if(U){const G=U.slice();for(let ue=0;ue<G.length;ue++){const le=G[ue];this[_].call(this,S,le.originalDelegate?le.originalDelegate:le.callback,le.options)}}if(X){const G=X.slice();for(let ue=0;ue<G.length;ue++){const le=G[ue];this[_].call(this,S,le.originalDelegate?le.originalDelegate:le.callback,le.options)}}}}else{const I=Object.keys(m);for(let L=0;L<I.length;L++){const U=zt.exec(I[L]);let X=U&&U[1];X&&"removeListener"!==X&&this[k].call(this,X)}this[k].call(this,"removeListener")}if(ie)return this},$e(D[g],se),$e(D[_],H),Ve&&$e(D[k],Ve),we&&$e(D[C],we),!0}let me=[];for(let K=0;K<y.length;K++)me[K]=ve(y[K],d);return me}function $t(c,h){if(!h){const _=[];for(let C in c){const k=zt.exec(C);let F=k&&k[1];if(F&&(!h||F===h)){const Z=c[C];if(Z)for(let R=0;R<Z.length;R++)_.push(Z[R])}}return _}let y=Fe[h];y||(Kt(h),y=Fe[h]);const d=c[y[Ue]],g=c[y[Te]];return d?g?d.concat(g):d.slice():g?g.slice():[]}function mn(c,h){const y=c.Event;y&&y.prototype&&h.patchMethod(y.prototype,"stopImmediatePropagation",d=>function(g,_){g[Ht]=!0,d&&d.apply(g,_)})}function yn(c,h,y,d,g){const _=Zone.__symbol__(d);if(h[_])return;const C=h[_]=h[d];h[d]=function(k,F,Z){return F&&F.prototype&&g.forEach(function(R){const ee=`${y}.${d}::`+R,W=F.prototype;if(W.hasOwnProperty(R)){const q=c.ObjectGetOwnPropertyDescriptor(W,R);q&&q.value?(q.value=c.wrapWithCurrentZone(q.value,ee),c._redefineProperty(F.prototype,R,q)):W[R]&&(W[R]=c.wrapWithCurrentZone(W[R],ee))}else W[R]&&(W[R]=c.wrapWithCurrentZone(W[R],ee))}),C.call(h,k,F,Z)},c.attachOriginToPatched(h[d],C)}function Ut(c,h,y){if(!y||0===y.length)return h;const d=y.filter(_=>_.target===c);if(!d||0===d.length)return h;const g=d[0].ignoreProperties;return h.filter(_=>-1===g.indexOf(_))}function Qt(c,h,y,d){c&&Dt(c,Ut(c,h,y),d)}function It(c){return Object.getOwnPropertyNames(c).filter(h=>h.startsWith("on")&&h.length>2).map(h=>h.substring(2))}Zone.__load_patch("util",(c,h,y)=>{const d=It(c);y.patchOnProperties=Dt,y.patchMethod=Ke,y.bindArguments=Zt,y.patchMacroTask=un;const g=h.__symbol__("BLACK_LISTED_EVENTS"),_=h.__symbol__("UNPATCHED_EVENTS");c[_]&&(c[g]=c[_]),c[g]&&(h[g]=h[_]=c[g]),y.patchEventPrototype=mn,y.patchEventTarget=dn,y.isIEOrEdge=fn,y.ObjectDefineProperty=At,y.ObjectGetOwnPropertyDescriptor=Et,y.ObjectCreate=Tt,y.ArraySlice=Ln,y.patchClass=ht,y.wrapWithCurrentZone=Bt,y.filterProperties=Ut,y.attachOriginToPatched=$e,y._redefineProperty=Object.defineProperty,y.patchCallbacks=yn,y.getGlobalObjects=()=>({globalSources:qt,zoneSymbolEventNames:Fe,eventNames:d,isBrowser:We,isMix:Ot,isNode:ct,TRUE_STR:Te,FALSE_STR:Ue,ZONE_SYMBOL_PREFIX:vt,ADD_EVENT_LISTENER_STR:w,REMOVE_EVENT_LISTENER_STR:Nt})});const wt=ae("zoneTask");function rt(c,h,y,d){let g=null,_=null;y+=d;const C={};function k(Z){const R=Z.data;return R.args[0]=function(){return Z.invoke.apply(this,arguments)},R.handleId=g.apply(c,R.args),Z}function F(Z){return _.call(c,Z.data.handleId)}g=Ke(c,h+=d,Z=>function(R,ee){if("function"==typeof ee[0]){const W={isPeriodic:"Interval"===d,delay:"Timeout"===d||"Interval"===d?ee[1]||0:void 0,args:ee},q=ee[0];ee[0]=function(){try{return q.apply(this,arguments)}finally{W.isPeriodic||("number"==typeof W.handleId?delete C[W.handleId]:W.handleId&&(W.handleId[wt]=null))}};const fe=bt(h,ee[0],W,k,F);if(!fe)return fe;const re=fe.data.handleId;return"number"==typeof re?C[re]=fe:re&&(re[wt]=fe),re&&re.ref&&re.unref&&"function"==typeof re.ref&&"function"==typeof re.unref&&(fe.ref=re.ref.bind(re),fe.unref=re.unref.bind(re)),"number"==typeof re||re?re:fe}return Z.apply(c,ee)}),_=Ke(c,y,Z=>function(R,ee){const W=ee[0];let q;"number"==typeof W?q=C[W]:(q=W&&W[wt],q||(q=W)),q&&"string"==typeof q.type?"notScheduled"!==q.state&&(q.cancelFn&&q.data.isPeriodic||0===q.runCount)&&("number"==typeof W?delete C[W]:W&&(W[wt]=null),q.zone.cancelTask(q)):Z.apply(c,ee)})}Zone.__load_patch("legacy",c=>{const h=c[Zone.__symbol__("legacyPatch")];h&&h()}),Zone.__load_patch("queueMicrotask",(c,h,y)=>{y.patchMethod(c,"queueMicrotask",d=>function(g,_){h.current.scheduleMicroTask("queueMicrotask",_[0])})}),Zone.__load_patch("timers",c=>{const h="set",y="clear";rt(c,h,y,"Timeout"),rt(c,h,y,"Interval"),rt(c,h,y,"Immediate")}),Zone.__load_patch("requestAnimationFrame",c=>{rt(c,"request","cancel","AnimationFrame"),rt(c,"mozRequest","mozCancel","AnimationFrame"),rt(c,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(c,h)=>{const y=["alert","prompt","confirm"];for(let d=0;d<y.length;d++)Ke(c,y[d],(_,C,k)=>function(F,Z){return h.current.run(_,c,Z,k)})}),Zone.__load_patch("EventTarget",(c,h,y)=>{(function En(c,h){h.patchEventPrototype(c,h)})(c,y),function _n(c,h){if(Zone[h.symbol("patchEventTarget")])return;const{eventNames:y,zoneSymbolEventNames:d,TRUE_STR:g,FALSE_STR:_,ZONE_SYMBOL_PREFIX:C}=h.getGlobalObjects();for(let F=0;F<y.length;F++){const Z=y[F],W=C+(Z+_),q=C+(Z+g);d[Z]={},d[Z][_]=W,d[Z][g]=q}const k=c.EventTarget;k&&k.prototype&&h.patchEventTarget(c,h,[k&&k.prototype])}(c,y);const d=c.XMLHttpRequestEventTarget;d&&d.prototype&&y.patchEventTarget(c,y,[d.prototype])}),Zone.__load_patch("MutationObserver",(c,h,y)=>{ht("MutationObserver"),ht("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(c,h,y)=>{ht("IntersectionObserver")}),Zone.__load_patch("FileReader",(c,h,y)=>{ht("FileReader")}),Zone.__load_patch("on_property",(c,h,y)=>{!function pn(c,h){if(ct&&!Ot||Zone[c.symbol("patchEvents")])return;const y=h.__Zone_ignore_on_properties;let d=[];if(We){const g=window;d=d.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const _=function hn(){try{const c=lt.navigator.userAgent;if(-1!==c.indexOf("MSIE ")||-1!==c.indexOf("Trident/"))return!0}catch(c){}return!1}()?[{target:g,ignoreProperties:["error"]}]:[];Qt(g,It(g),y&&y.concat(_),Oe(g))}d=d.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let g=0;g<d.length;g++){const _=h[d[g]];_&&_.prototype&&Qt(_.prototype,It(_.prototype),y)}}(y,c)}),Zone.__load_patch("customElements",(c,h,y)=>{!function gn(c,h){const{isBrowser:y,isMix:d}=h.getGlobalObjects();(y||d)&&c.customElements&&"customElements"in c&&h.patchCallbacks(h,c.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(c,y)}),Zone.__load_patch("XHR",(c,h)=>{!function F(Z){const R=Z.XMLHttpRequest;if(!R)return;const ee=R.prototype;let q=ee[St],fe=ee[Ct];if(!q){const b=Z.XMLHttpRequestEventTarget;if(b){const se=b.prototype;q=se[St],fe=se[Ct]}}const re="readystatechange",ve="scheduled";function me(b){const se=b.data,H=se.target;H[_]=!1,H[k]=!1;const we=H[g];q||(q=H[St],fe=H[Ct]),we&&fe.call(H,re,we);const Ve=H[g]=()=>{if(H.readyState===H.DONE)if(!se.aborted&&H[_]&&b.state===ve){const ye=H[h.__symbol__("loadfalse")];if(0!==H.status&&ye&&ye.length>0){const De=b.invoke;b.invoke=function(){const Pe=H[h.__symbol__("loadfalse")];for(let de=0;de<Pe.length;de++)Pe[de]===b&&Pe.splice(de,1);!se.aborted&&b.state===ve&&De.call(b)},ye.push(b)}else b.invoke()}else!se.aborted&&!1===H[_]&&(H[k]=!0)};return q.call(H,re,Ve),H[y]||(H[y]=b),D.apply(H,se.args),H[_]=!0,b}function K(){}function O(b){const se=b.data;return se.aborted=!0,ce.apply(se.target,se.args)}const be=Ke(ee,"open",()=>function(b,se){return b[d]=0==se[2],b[C]=se[1],be.apply(b,se)}),pe=ae("fetchTaskAborting"),ie=ae("fetchTaskScheduling"),D=Ke(ee,"send",()=>function(b,se){if(!0===h.current[ie]||b[d])return D.apply(b,se);{const H={target:b,url:b[C],isPeriodic:!1,args:se,aborted:!1},we=bt("XMLHttpRequest.send",K,H,me,O);b&&!0===b[k]&&!H.aborted&&we.state===ve&&we.invoke()}}),ce=Ke(ee,"abort",()=>function(b,se){const H=function W(b){return b[y]}(b);if(H&&"string"==typeof H.type){if(null==H.cancelFn||H.data&&H.data.aborted)return;H.zone.cancelTask(H)}else if(!0===h.current[pe])return ce.apply(b,se)})}(c);const y=ae("xhrTask"),d=ae("xhrSync"),g=ae("xhrListener"),_=ae("xhrScheduled"),C=ae("xhrURL"),k=ae("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",c=>{c.navigator&&c.navigator.geolocation&&function jn(c,h){const y=c.constructor.name;for(let d=0;d<h.length;d++){const g=h[d],_=c[g];if(_){if(!ln(Et(c,g)))continue;c[g]=(k=>{const F=function(){return k.apply(this,Zt(arguments,y+"."+g))};return $e(F,k),F})(_)}}}(c.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(c,h)=>{function y(d){return function(g){$t(c,d).forEach(C=>{const k=c.PromiseRejectionEvent;if(k){const F=new k(d,{promise:g.promise,reason:g.rejection});C.invoke(F)}})}}c.PromiseRejectionEvent&&(h[ae("unhandledPromiseRejectionHandler")]=y("unhandledrejection"),h[ae("rejectionHandledHandler")]=y("rejectionhandled"))})}}]);